version: "3.8"
services: 
    web:
        build: "./"
        working_dir: "/src/ogp-backend"
        command: "php artisan serve --host 0.0.0.0 --port 8080"
        volumes: 
            - "./src:/src"
        ports: 
            - "8080:8080"
        depends_on: 
          - db

    db:
      image: "mysql"
      volumes: 
        - db_data:/var/lib/mysql
      ports: 
        - "3306:3306"
      environment: 
        MYSQL_DATABASE: "laravel"
        MYSQL_ROOT_PASSWORD: "password"

volumes: 
  db_data:
